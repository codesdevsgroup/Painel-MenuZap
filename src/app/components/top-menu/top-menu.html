
<div class="top-menu-root">
  <div class="top-menu-actions">
    <div class="left-actions">
      <div class="store-switch">
        <label class="switch">
          <input type="checkbox" [(ngModel)]="storeOpen" />
          <span class="slider"></span>
        </label>
        <span class="switch-label" [class.open]="storeOpen" [class.closed]="!storeOpen">
          {{ storeOpen ? 'Aberto' : 'Fechado' }}
        </span>
      </div>
    </div>
    <div class="right-actions">
      <button class="theme-btn" title="Alternar tema" (click)="toggleTheme()">
        <span class="material-icons" *ngIf="theme === 'light'">dark_mode</span>
        <span class="material-icons" *ngIf="theme === 'dark'">light_mode</span>
      </button>
      <button class="notification-btn" title="Notificações de venda">
        <span class="material-icons">shopping_cart_checkout</span>
        <span class="notification-badge">3</span>
      </button>
      <div class="profile-menu">
        <ng-container *ngIf="profileUrl; else profileIcon">
          <img
            class="profile-avatar"
            [src]="profileUrl"
            alt="Perfil"
            (error)="onAvatarError()"
            (click)="toggleDropdown()"
          />
        </ng-container>
        <ng-template #profileIcon>
          <button
            type="button"
            class="profile-avatar profile-avatar--fallback"
            aria-label="Abrir menu de perfil"
            (click)="toggleDropdown()"
          >
            <span class="material-icons">account_circle</span>
          </button>
        </ng-template>
        <div class="dropdown-menu" *ngIf="dropdownOpen">
          <a href="#">Meu Perfil</a>
          <a href="#">Configurações</a>
          <a href="#">Sair</a>
        </div>
      </div>
    </div>
  </div>
</div>
